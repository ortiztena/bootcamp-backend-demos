(self.webpackChunk=self.webpackChunk||[]).push([[143],{8389:(e,t,r)=>{"use strict";var n={};r.r(n),r.d(n,{error:()=>E,info:()=>x,message:()=>P,snackbarContent:()=>O,success:()=>w,warning:()=>k});var a=r(7378),o=r(1542),i=r(27),u=r(4775),c=r(547),l=r(4595);function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o=[],i=!0,u=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){u=!0,a=e}finally{try{i||null==r.return||r.return()}finally{if(u)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return m(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?m(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var f=a.createContext(null),p=function(e){var t=e.children,r=s(a.useState(!1),2),n=r[0],o=r[1],i=s(a.useState({message:"",variant:"success"}),2),u=i[0],c=i[1];return a.createElement(f.Provider,{value:{open:n,setOpen:o,onClose:function(e,t){"clickaway"!==t&&o(!1)},options:u,setOptions:c}},t)},v=r(9419),d=r(7290),h=r(5530),y=r(9236),g=(0,r(9565).Z)(),b=function(e){var t=e.children;return a.createElement(d.ZP,{injectFirst:!0},a.createElement(h.Z,{theme:g},a.createElement(y.ZP,null),t))},w=(0,v.iv)("&.MuiSnackbarContent-root{background-color:",g.palette.success.main,";}",""),E=(0,v.iv)("&.MuiSnackbarContent-root{background-color:",g.palette.error.dark,";}",""),x=(0,v.iv)("&.MuiSnackbarContent-root{background-color:",g.palette.info.main,";}",""),k=(0,v.iv)("&.MuiSnackbarContent-root{background-color:",g.palette.warning.main,";}",""),O=(0,v.iv)({name:"5dh3r6",styles:"align-items:flex-start"}),P=(0,v.iv)({name:"bzgnqe",styles:"align-self:center;white-space:pre"}),S=function(e){var t=e.position,r=e.autoHideDuration,o=a.useContext(f),s=o.open,m=o.onClose,p=o.options;return a.createElement(i.Z,{anchorOrigin:t,open:s,autoHideDuration:r,onClose:m},a.createElement(u.Z,{className:n[p.variant],classes:{root:O,message:P},message:p.message,action:[a.createElement(c.Z,{key:"close",color:"inherit",onClick:m},a.createElement(l.Z,null))]}))};S.defaultProps={position:{horizontal:"right",vertical:"top"},autoHideDuration:3e3};var j=function(){var e=a.useContext(f),t=e.setOptions,r=e.setOpen;return{showMessage:function(e,n){t({message:e,variant:n}),r(!0)}}},Z=r(4289),A=r(9635),C=(0,v.iv)("display:grid;grid-template-columns:1fr;align-items:center;margin-top:2rem;@media (min-width: ",g.breakpoints.values.sm,"px){justify-items:center;}",""),N=function(e){var t=e.children;return a.createElement("div",{className:C},t)},R=r(520),I=r(8681),M=r(4344),D=r(9386),z=r(4206),H=r.n(z);function L(e,t,r,n,a,o,i){try{var u=e[o](i),c=u.value}catch(e){return void r(e)}u.done?t(c):Promise.resolve(c).then(n,a)}var T=function(){var e,t=(e=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H().post("/api/security/logout");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){L(o,n,a,i,u,"next",e)}function u(e){L(o,n,a,i,u,"throw",e)}i(void 0)}))});return function(){return t.apply(this,arguments)}}(),U=(0,v.iv)({name:"1eoy87d",styles:"display:flex;justify-content:space-between"});function W(e,t,r,n,a,o,i){try{var u=e[o](i),c=u.value}catch(e){return void r(e)}u.done?t(c):Promise.resolve(c).then(n,a)}function $(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var B=function(e){var t,r,n,o=e.children,i=a.useRef(null),u=(r=a.useState(0),n=2,function(e){if(Array.isArray(e))return e}(r)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o=[],i=!0,u=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){u=!0,a=e}finally{try{i||null==r.return||r.return()}finally{if(u)throw a}}return o}}(r,n)||function(e,t){if(e){if("string"==typeof e)return $(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?$(e,t):void 0}}(r,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),l=u[0],s=u[1],m=(0,A.k6)();a.useEffect((function(){i.current&&s(i.current.clientHeight)}),[null===(t=i.current)||void 0===t?void 0:t.clientHeight]);var f=function(){var e,t=(e=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T();case 2:m.push(ke.root);case 3:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){W(o,n,a,i,u,"next",e)}function u(e){W(o,n,a,i,u,"throw",e)}i(void 0)}))});return function(){return t.apply(this,arguments)}}();return a.createElement(a.Fragment,null,a.createElement(R.Z,{ref:i},a.createElement(I.Z,{className:U,variant:"dense"},a.createElement(M.Z,{variant:"h6",component:"h1"},"Perfil usuario"),a.createElement(c.Z,{color:"inherit",onClick:f},a.createElement(D.Z,{fontSize:"large"})))),a.createElement("div",{style:{height:l}}),o)},F=(0,v.iv)({name:"vtxs8z",styles:"margin:1rem"}),q=function(e){var t=e.children;return a.createElement(B,null,t({className:F}))};function V(e,t,r,n,a,o,i){try{var u=e[o](i),c=u.value}catch(e){return void r(e)}u.done?t(c):Promise.resolve(c).then(n,a)}var G=function(){var e,t=(e=regeneratorRuntime.mark((function e(t,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H().post("/api/security/login",{email:t,password:r});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){V(o,n,a,i,u,"next",e)}function u(e){V(o,n,a,i,u,"throw",e)}i(void 0)}))});return function(e,r){return t.apply(this,arguments)}}(),J=r(3451),K=r(8644),Q=r(9334),X=(0,v.iv)("display:flex;flex-direction:column;align-items:center;gap:1rem;@media (min-width: ",g.breakpoints.values.sm,"px){min-width:400px;}","");function Y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(r),!0).forEach((function(t){ee(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ee(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var te=function(e){var t=e.onLogin,r=(0,J.cI)({defaultValues:{email:"",password:""}}),n=r.register,o=r.handleSubmit;return a.createElement("form",{className:X,onSubmit:o(t)},a.createElement(K.Z,{inputProps:_({},n("email")),label:"Email",fullWidth:!0}),a.createElement(K.Z,{inputProps:_({},n("password")),type:"password",label:"Contraseña",fullWidth:!0}),a.createElement(Q.Z,{type:"submit",variant:"contained",color:"primary"},"Entrar"))},re=r(4840),ne=r(6563),ae=r(807),oe=function(e){var t=e.title,r=e.children;return a.createElement(re.Z,null,a.createElement(ne.Z,{title:t}),a.createElement(ae.Z,null,r))},ie=function(e){var t=e.onLogin;return a.createElement(oe,{title:"Bienvenido"},a.createElement(te,{onLogin:t}))};function ue(e,t,r,n,a,o,i){try{var u=e[o](i),c=u.value}catch(e){return void r(e)}u.done?t(c):Promise.resolve(c).then(n,a)}var ce=function(){var e=j().showMessage,t=(0,A.k6)(),r=function(){var r,n=(r=regeneratorRuntime.mark((function r(n){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,G(n.email,n.password);case 3:t.push(ke.user),r.next=9;break;case 6:r.prev=6,r.t0=r.catch(0),e("Email y/o password inválidos","error");case 9:case"end":return r.stop()}}),r,null,[[0,6]])})),function(){var e=this,t=arguments;return new Promise((function(n,a){var o=r.apply(e,t);function i(e){ue(o,n,a,i,u,"next",e)}function u(e){ue(o,n,a,i,u,"throw",e)}i(void 0)}))});return function(e){return n.apply(this,arguments)}}();return a.createElement(ie,{onLogin:r})},le=function(){return a.createElement(N,null,a.createElement(ce,null))};function se(e,t,r,n,a,o,i){try{var u=e[o](i),c=u.value}catch(e){return void r(e)}u.done?t(c):Promise.resolve(c).then(n,a)}var me=function(){var e,t=(e=regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H().get("/api/users");case 2:return t=e.sent,r=t.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){se(o,n,a,i,u,"next",e)}function u(e){se(o,n,a,i,u,"throw",e)}i(void 0)}))});return function(){return t.apply(this,arguments)}}(),fe=function(e){return{email:e.email,role:e.role,avatar:e.avatar}},pe=r(5929),ve=(0,v.iv)({name:"1ifri7m",styles:"display:grid;column-gap:2rem;row-gap:1rem;grid-template-columns:auto 1fr;grid-template-areas:'avatar email' 'avatar role' 'avatar .'"}),de=(0,v.iv)("grid-area:avatar;background-color:",g.palette.grey[400],";width:",g.spacing(50),"px;height:",g.spacing(50),"px;",""),he=(0,v.iv)({name:"bo4u5",styles:"grid-area:email;align-self:flex-end"}),ye=(0,v.iv)({name:"8gjfk4",styles:"grid-area:role"}),ge=function(e){var t=e.user,r=e.className;return a.createElement("div",{className:(0,v.cx)(ve,r)},a.createElement(pe.Z,{className:de,src:t.avatar}),a.createElement(M.Z,{className:he,variant:"h4"},t.email),a.createElement(M.Z,{className:ye,variant:"body1"},"Perfil: ",t.role))};function be(e,t,r,n,a,o,i){try{var u=e[o](i),c=u.value}catch(e){return void r(e)}u.done?t(c):Promise.resolve(c).then(n,a)}function we(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Ee=function(e){var t,r,n=e.className,o=j().showMessage,i=(0,A.k6)(),u=(t=a.useState({email:"",role:"",avatar:""}),r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o=[],i=!0,u=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){u=!0,a=e}finally{try{i||null==r.return||r.return()}finally{if(u)throw a}}return o}}(t,r)||function(e,t){if(e){if("string"==typeof e)return we(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?we(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),c=u[0],l=u[1],s=function(){var e,t=(e=regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,me();case 3:t=e.sent,l(fe(t)),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),i.push(ke.root),o("Introduzca credenciales","error");case 11:case"end":return e.stop()}}),e,null,[[0,7]])})),function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){be(o,n,a,i,u,"next",e)}function u(e){be(o,n,a,i,u,"throw",e)}i(void 0)}))});return function(){return t.apply(this,arguments)}}();return a.useEffect((function(){s()}),[]),a.createElement(ge,{className:n,user:c})},xe=function(){return a.createElement(q,null,(function(e){var t=e.className;return a.createElement(Ee,{className:t})}))},ke={root:"/",user:"/user"},Oe=function(){return a.createElement(Z.UT,null,a.createElement(A.rs,null,a.createElement(A.AW,{exact:!0,path:ke.root,component:le}),a.createElement(A.AW,{exact:!0,path:ke.user,component:xe})))};const Pe=function(){return a.createElement(b,null,a.createElement(p,null,a.createElement(Oe,null),a.createElement(S,null)))};o.render(a.createElement(Pe,null),document.getElementById("root"))}},e=>{"use strict";var t=t=>e(e.s=t);e.O(0,[736],(()=>(t(6248),t(8389)))),e.O()}]);